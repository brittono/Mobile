{"version":3,"sources":["js/lib/iscroll-lite.js"],"names":["m","Math","mround","r","vendor","test","navigator","appVersion","userAgent","window","isIDevice","isPlaybook","isTouchPad","has3d","WebKitCSSMatrix","hasTouch","hasTransform","document","documentElement","style","hasTransitionEnd","nextFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","cancelFrame","cancelRequestAnimationFrame","webkitCancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","clearTimeout","RESIZE_EV","START_EV","MOVE_EV","END_EV","CANCEL_EV","trnOpen","trnClose","iScroll","el","options","i","that","this","doc","wrapper","getElementById","overflow","scroller","children","hScroll","vScroll","x","y","bounce","bounceLock","momentum","lockDirection","useTransform","useTransition","onRefresh","onBeforeScrollStart","e","preventDefault","onScrollStart","onBeforeScrollMove","onScrollMove","onBeforeScrollEnd","onScrollEnd","onTouchEnd","onDestroy","hScrollbar","vScrollbar","toLowerCase","cssText","refresh","_bind","prototype","enabled","steps","scale","handleEvent","type","button","_start","_move","_end","_resize","_mouseout","_transitionEnd","_pos","left","top","matrix","point","touches","call","_transitionTime","moved","animating","zoomed","distX","distY","absDistX","absDistY","dirX","dirY","getComputedStyle","replace","split","_unbind","aniTime","startX","startY","pointX","pageX","pointY","pageY","startTime","timeStamp","Date","now","deltaX","deltaY","newX","newY","timestamp","maxScrollX","maxScrollY","abs","length","target","ev","newDuration","changedTouches","momentumX","dist","time","momentumY","duration","newPosX","newPosY","nodeType","parentNode","tagName","createEvent","initMouseEvent","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","_fake","dispatchEvent","_resetPos","_momentum","scrollerW","wrapperW","scrollerH","wrapperH","max","scrollTo","resetX","resetY","t","relatedTarget","_startAni","step","easeOut","animate","shift","onAnimationEnd","sqrt","maxDistUpper","maxDistLower","size","speed","newDist","newTime","outsideDist","_offset","offsetLeft","offsetTop","offsetParent","bubble","addEventListener","removeEventListener","destroy","offset","clientWidth","clientHeight","offsetWidth","offsetHeight","wrapperOffsetLeft","wrapperOffsetTop","relative","l","stop","push","scrollToElement","pos","querySelector","undefined","disable","enable","exports"],"mappings":"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","file":"iscroll-lite.min.js","sourcesContent":["/*!\n * iScroll Lite base on iScroll v4.1.6 ~ Copyright (c) 2011 Matteo Spinelli, http://cubiq.org\n * Released under MIT license, http://cubiq.org/license\n */\n\n(function(){\nvar m = Math,\n\tmround = function (r) { return r >> 0; },\n\tvendor = (/webkit/i).test(navigator.appVersion) ? 'webkit' :\n\t\t(/firefox/i).test(navigator.userAgent) ? 'Moz' :\n\t\t'opera' in window ? 'O' : '',\n\n    // Browser capabilities\n    isAndroid = (/android/gi).test(navigator.appVersion),\n    isIDevice = (/iphone|ipad/gi).test(navigator.appVersion),\n    isPlaybook = (/playbook/gi).test(navigator.appVersion),\n    isTouchPad = (/hp-tablet/gi).test(navigator.appVersion),\n\n    has3d = 'WebKitCSSMatrix' in window && 'm11' in new WebKitCSSMatrix(),\n    hasTouch = 'ontouchstart' in window && !isTouchPad,\n    hasTransform = vendor + 'Transform' in document.documentElement.style,\n    hasTransitionEnd = isIDevice || isPlaybook,\n\n\tnextFrame = (function() {\n\t    return window.requestAnimationFrame\n\t\t\t|| window.webkitRequestAnimationFrame\n\t\t\t|| window.mozRequestAnimationFrame\n\t\t\t|| window.oRequestAnimationFrame\n\t\t\t|| window.msRequestAnimationFrame\n\t\t\t|| function(callback) { return setTimeout(callback, 17); }\n\t})(),\n\tcancelFrame = (function () {\n\t    return window.cancelRequestAnimationFrame\n\t\t\t|| window.webkitCancelAnimationFrame\n\t\t\t|| window.webkitCancelRequestAnimationFrame\n\t\t\t|| window.mozCancelRequestAnimationFrame\n\t\t\t|| window.oCancelRequestAnimationFrame\n\t\t\t|| window.msCancelRequestAnimationFrame\n\t\t\t|| clearTimeout\n\t})(),\n\n\t// Events\n\tRESIZE_EV = 'onorientationchange' in window ? 'orientationchange' : 'resize',\n\tSTART_EV = hasTouch ? 'touchstart' : 'mousedown',\n\tMOVE_EV = hasTouch ? 'touchmove' : 'mousemove',\n\tEND_EV = hasTouch ? 'touchend' : 'mouseup',\n\tCANCEL_EV = hasTouch ? 'touchcancel' : 'mouseup',\n\n\t// Helpers\n\ttrnOpen = 'translate' + (has3d ? '3d(' : '('),\n\ttrnClose = has3d ? ',0)' : ')',\n\n\t// Constructor\n\tiScroll = function (el, options) {\n\t\tvar that = this,\n\t\t\tdoc = document,\n\t\t\ti;\n\n\t\tthat.wrapper = typeof el == 'object' ? el : doc.getElementById(el);\n\t\tthat.wrapper.style.overflow = 'hidden';\n\t\tthat.scroller = that.wrapper.children[0];\n\n\t\t// Default options\n\t\tthat.options = {\n\t\t\thScroll: true,\n\t\t\tvScroll: true,\n\t\t\tx: 0,\n\t\t\ty: 0,\n\t\t\tbounce: true,\n\t\t\tbounceLock: false,\n\t\t\tmomentum: true,\n\t\t\tlockDirection: true,\n\t\t\tuseTransform: true,\n\t\t\tuseTransition: false,\n\n\t\t\t// Events\n\t\t\tonRefresh: null,\n\t\t\tonBeforeScrollStart: function (e) { e.preventDefault(); },\n\t\t\tonScrollStart: null,\n\t\t\tonBeforeScrollMove: null,\n\t\t\tonScrollMove: null,\n\t\t\tonBeforeScrollEnd: null,\n\t\t\tonScrollEnd: null,\n\t\t\tonTouchEnd: null,\n\t\t\tonDestroy: null\n\t\t};\n\n\t\t// User defined options\n\t\tfor (i in options) that.options[i] = options[i];\n\n\t\t// Set starting position\n\t\tthat.x = that.options.x;\n\t\tthat.y = that.options.y;\n\n\t\t// Normalize options\n\t\tthat.options.useTransform = hasTransform ? that.options.useTransform : false;\n\t\tthat.options.hScrollbar = that.options.hScroll && that.options.hScrollbar;\n\t\tthat.options.vScrollbar = that.options.vScroll && that.options.vScrollbar;\n\t\tthat.options.useTransition = hasTransitionEnd && that.options.useTransition;\n\n\t\t// Set some default styles\n\t\tthat.scroller.style[vendor + 'TransitionProperty'] = that.options.useTransform ? '-' + vendor.toLowerCase() + '-transform' : 'top left';\n\t\tthat.scroller.style[vendor + 'TransitionDuration'] = '0';\n\t\tthat.scroller.style[vendor + 'TransformOrigin'] = '0 0';\n\t\tif (that.options.useTransition) that.scroller.style[vendor + 'TransitionTimingFunction'] = 'cubic-bezier(0.33,0.66,0.66,1)';\n\t\t\n\t\tif (that.options.useTransform) that.scroller.style[vendor + 'Transform'] = trnOpen + that.x + 'px,' + that.y + 'px' + trnClose;\n\t\telse that.scroller.style.cssText += ';position:absolute;top:' + that.y + 'px;left:' + that.x + 'px';\n\n\t\tthat.refresh();\n\n\t\tthat._bind(RESIZE_EV, window);\n\t\tthat._bind(START_EV);\n\t\tif (!hasTouch) that._bind('mouseout', that.wrapper);\n\t};\n\n// Prototype\niScroll.prototype = {\n\tenabled: true,\n\tx: 0,\n\ty: 0,\n\tsteps: [],\n\tscale: 1,\n\t\n\thandleEvent: function (e) {\n\t\tvar that = this;\n\t\tswitch(e.type) {\n\t\t\tcase START_EV:\n\t\t\t\tif (!hasTouch && e.button !== 0) return;\n\t\t\t\tthat._start(e);\n\t\t\t\tbreak;\n\t\t\tcase MOVE_EV: that._move(e); break;\n\t\t\tcase END_EV:\n\t\t\tcase CANCEL_EV: that._end(e); break;\n\t\t\tcase RESIZE_EV: that._resize(); break;\n\t\t\tcase 'mouseout': that._mouseout(e); break;\n\t\t\tcase 'webkitTransitionEnd': that._transitionEnd(e); break;\n\t\t}\n\t},\n\n\t_resize: function () {\n\t\tthis.refresh();\n\t},\n\t\n\t_pos: function (x, y) {\n\t\tx = this.hScroll ? x : 0;\n\t\ty = this.vScroll ? y : 0;\n\n\t\tif (this.options.useTransform) {\n\t\t\tthis.scroller.style[vendor + 'Transform'] = trnOpen + x + 'px,' + y + 'px' + trnClose + ' scale(' + this.scale + ')';\n\t\t} else {\n\t\t\tx = mround(x);\n\t\t\ty = mround(y);\n\t\t\tthis.scroller.style.left = x + 'px';\n\t\t\tthis.scroller.style.top = y + 'px';\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t},\n\n\t_start: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tmatrix, x, y;\n\n\t\tif (!that.enabled) return;\n\n\t\tif (that.options.onBeforeScrollStart) that.options.onBeforeScrollStart.call(that, e);\n\t\t\n\t\tif (that.options.useTransition) that._transitionTime(0);\n\n\t\tthat.moved = false;\n\t\tthat.animating = false;\n\t\tthat.zoomed = false;\n\t\tthat.distX = 0;\n\t\tthat.distY = 0;\n\t\tthat.absDistX = 0;\n\t\tthat.absDistY = 0;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\tif (that.options.momentum) {\n\t\t\tif (that.options.useTransform) {\n\t\t\t\t// Very lame general purpose alternative to CSSMatrix\n\t\t\t\tmatrix = getComputedStyle(that.scroller, null)[vendor + 'Transform'].replace(/[^0-9-.,]/g, '').split(',');\n\t\t\t\tx = matrix[4] * 1;\n\t\t\t\ty = matrix[5] * 1;\n\t\t\t} else {\n\t\t\t\tx = getComputedStyle(that.scroller, null).left.replace(/[^0-9-]/g, '') * 1;\n\t\t\t\ty = getComputedStyle(that.scroller, null).top.replace(/[^0-9-]/g, '') * 1;\n\t\t\t}\n\t\t\t\n\t\t\tif (x != that.x || y != that.y) {\n\t\t\t\tif (that.options.useTransition) that._unbind('webkitTransitionEnd');\n\t\t\t\telse cancelFrame(that.aniTime);\n\t\t\t\tthat.steps = [];\n\t\t\t\tthat._pos(x, y);\n\t\t\t}\n\t\t}\n\n\t\tthat.startX = that.x;\n\t\tthat.startY = that.y;\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\tthat.startTime = e.timeStamp || Date.now();\n\n\t\tif (that.options.onScrollStart) that.options.onScrollStart.call(that, e);\n\n\t\tthat._bind(MOVE_EV);\n\t\tthat._bind(END_EV);\n\t\tthat._bind(CANCEL_EV);\n\t},\n\t\n\t_move: function (e) {\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.touches[0] : e,\n\t\t\tdeltaX = point.pageX - that.pointX,\n\t\t\tdeltaY = point.pageY - that.pointY,\n\t\t\tnewX = that.x + deltaX,\n\t\t\tnewY = that.y + deltaY,\n\t\t\ttimestamp = e.timeStamp || Date.now();\n\n\t\tif (that.options.onBeforeScrollMove) that.options.onBeforeScrollMove.call(that, e);\n\n\t\tthat.pointX = point.pageX;\n\t\tthat.pointY = point.pageY;\n\n\t\t// Slow down if outside of the boundaries\n\t\tif (newX > 0 || newX < that.maxScrollX) {\n\t\t\tnewX = that.options.bounce ? that.x + (deltaX / 2) : newX >= 0 || that.maxScrollX >= 0 ? 0 : that.maxScrollX;\n\t\t}\n\t\tif (newY > 0 || newY < that.maxScrollY) { \n\t\t\tnewY = that.options.bounce ? that.y + (deltaY / 2) : newY >= 0 || that.maxScrollY >= 0 ? 0 : that.maxScrollY;\n\t\t}\n\n\t\tthat.distX += deltaX;\n\t\tthat.distY += deltaY;\n\t\tthat.absDistX = m.abs(that.distX);\n\t\tthat.absDistY = m.abs(that.distY);\n\n\t\tif (that.absDistX < 6 && that.absDistY < 6) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Lock direction\n\t\tif (that.options.lockDirection) {\n\t\t\tif (that.absDistX > that.absDistY + 5) {\n\t\t\t\tnewY = that.y;\n\t\t\t\tdeltaY = 0;\n\t\t\t} else if (that.absDistY > that.absDistX + 5) {\n\t\t\t\tnewX = that.x;\n\t\t\t\tdeltaX = 0;\n\t\t\t}\n\t\t}\n\n\t\tthat.moved = true;\n\t\tthat._pos(newX, newY);\n\t\tthat.dirX = deltaX > 0 ? -1 : deltaX < 0 ? 1 : 0;\n\t\tthat.dirY = deltaY > 0 ? -1 : deltaY < 0 ? 1 : 0;\n\n\t\tif (timestamp - that.startTime > 300) {\n\t\t\tthat.startTime = timestamp;\n\t\t\tthat.startX = that.x;\n\t\t\tthat.startY = that.y;\n\t\t}\n\t\t\n\t\tif (that.options.onScrollMove) that.options.onScrollMove.call(that, e);\n\t},\n\t\n\t_end: function (e) {\n\t\tif (hasTouch && e.touches.length != 0) return;\n\n\t\tvar that = this,\n\t\t\tpoint = hasTouch ? e.changedTouches[0] : e,\n\t\t\ttarget, ev,\n\t\t\tmomentumX = { dist:0, time:0 },\n\t\t\tmomentumY = { dist:0, time:0 },\n\t\t\tduration = (e.timeStamp || Date.now()) - that.startTime,\n\t\t\tnewPosX = that.x,\n\t\t\tnewPosY = that.y,\n\t\t\tnewDuration;\n\n\t\tthat._unbind(MOVE_EV);\n\t\tthat._unbind(END_EV);\n\t\tthat._unbind(CANCEL_EV);\n\n\t\tif (that.options.onBeforeScrollEnd) that.options.onBeforeScrollEnd.call(that, e);\n\n\t\tif (!that.moved) {\n\t\t\tif (hasTouch) {\n\t\t\t\t// Find the last touched element\n\t\t\t\ttarget = point.target;\n\t\t\t\twhile (target.nodeType != 1) target = target.parentNode;\n\n\t\t\t\tif (target.tagName != 'SELECT' && target.tagName != 'INPUT' && target.tagName != 'TEXTAREA') {\n\t\t\t\t\tev = document.createEvent('MouseEvents');\n\t\t\t\t\tev.initMouseEvent('click', true, true, e.view, 1,\n\t\t\t\t\t\tpoint.screenX, point.screenY, point.clientX, point.clientY,\n\t\t\t\t\t\te.ctrlKey, e.altKey, e.shiftKey, e.metaKey,\n\t\t\t\t\t\t0, null);\n\t\t\t\t\tev._fake = true;\n\t\t\t\t\ttarget.dispatchEvent(ev);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthat._resetPos(200);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (duration < 300 && that.options.momentum) {\n\t\t\tmomentumX = newPosX ? that._momentum(newPosX - that.startX, duration, -that.x, that.scrollerW - that.wrapperW + that.x, that.options.bounce ? that.wrapperW : 0) : momentumX;\n\t\t\tmomentumY = newPosY ? that._momentum(newPosY - that.startY, duration, -that.y, (that.maxScrollY < 0 ? that.scrollerH - that.wrapperH + that.y : 0), that.options.bounce ? that.wrapperH : 0) : momentumY;\n\n\t\t\tnewPosX = that.x + momentumX.dist;\n\t\t\tnewPosY = that.y + momentumY.dist;\n\n \t\t\tif ((that.x > 0 && newPosX > 0) || (that.x < that.maxScrollX && newPosX < that.maxScrollX)) momentumX = { dist:0, time:0 };\n \t\t\tif ((that.y > 0 && newPosY > 0) || (that.y < that.maxScrollY && newPosY < that.maxScrollY)) momentumY = { dist:0, time:0 };\n\t\t}\n\n\t\tif (momentumX.dist || momentumY.dist) {\n\t\t\tnewDuration = m.max(m.max(momentumX.time, momentumY.time), 10);\n\n\t\t\tthat.scrollTo(mround(newPosX), mround(newPosY), newDuration);\n\n\t\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t\t\treturn;\n\t\t}\n\n\t\tthat._resetPos(200);\n\t\tif (that.options.onTouchEnd) that.options.onTouchEnd.call(that, e);\n\t},\n\t\n\t_resetPos: function (time) {\n\t\tvar that = this,\n\t\t\tresetX = that.x >= 0 ? 0 : that.x < that.maxScrollX ? that.maxScrollX : that.x,\n\t\t\tresetY = that.y >= 0 || that.maxScrollY > 0 ? 0 : that.y < that.maxScrollY ? that.maxScrollY : that.y;\n\n\t\tif (resetX == that.x && resetY == that.y) {\n\t\t\tif (that.moved) {\n\t\t\t\tif (that.options.onScrollEnd) that.options.onScrollEnd.call(that);\t\t// Execute custom code on scroll end\n\t\t\t\tthat.moved = false;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tthat.scrollTo(resetX, resetY, time || 0);\n\t},\n\t\n\t_mouseout: function (e) {\n\t\tvar t = e.relatedTarget;\n\n\t\tif (!t) {\n\t\t\tthis._end(e);\n\t\t\treturn;\n\t\t}\n\n\t\twhile (t = t.parentNode) if (t == this.wrapper) return;\n\t\t\n\t\tthis._end(e);\n\t},\n\n\t_transitionEnd: function (e) {\n\t\tvar that = this;\n\n\t\tif (e.target != that.scroller) return;\n\n\t\tthat._unbind('webkitTransitionEnd');\n\t\t\n\t\tthat._startAni();\n\t},\n\n\t/**\n\t *\n\t * Utilities\n\t *\n\t */\n\t_startAni: function () {\n\t\tvar that = this,\n\t\t\tstartX = that.x, startY = that.y,\n\t\t\tstartTime = Date.now(),\n\t\t\tstep, easeOut,\n\t\t\tanimate;\n\n\t\tif (that.animating) return;\n\n\t\tif (!that.steps.length) {\n\t\t\tthat._resetPos(400);\n\t\t\treturn;\n\t\t}\n\n\t\tstep = that.steps.shift();\n\n\t\tif (step.x == startX && step.y == startY) step.time = 0;\n\n\t\tthat.animating = true;\n\t\tthat.moved = true;\n\n\t\tif (that.options.useTransition) {\n\t\t\tthat._transitionTime(step.time);\n\t\t\tthat._pos(step.x, step.y);\n\t\t\tthat.animating = false;\n\t\t\tif (step.time) that._bind('webkitTransitionEnd');\n\t\t\telse that._resetPos(0);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tanimate = function () {\n\t\t\tvar now = Date.now(),\n\t\t\t\tnewX, newY;\n\n\t\t\tif (now >= startTime + step.time) {\n\t\t\t\tthat._pos(step.x, step.y);\n\t\t\t\tthat.animating = false;\n\t\t\t\tif (that.options.onAnimationEnd) that.options.onAnimationEnd.call(that);\t\t\t// Execute custom code on animation end\n\t\t\t\tthat._startAni();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnow = (now - startTime) / step.time - 1;\n\t\t\teaseOut = m.sqrt(1 - now * now);\n\t\t\tnewX = (step.x - startX) * easeOut + startX;\n\t\t\tnewY = (step.y - startY) * easeOut + startY;\n\t\t\tthat._pos(newX, newY);\n\t\t\tif (that.animating) that.aniTime = nextFrame(animate);\n\t\t};\n\t\t\n\t\tanimate();\n\t},\n\n\t_transitionTime: function (time) {\n\t\tthis.scroller.style[vendor + 'TransitionDuration'] = time + 'ms';\n\t},\n\t\n\t_momentum: function (dist, time, maxDistUpper, maxDistLower, size) {\n\t\tvar deceleration = 0.0006,\n\t\t\tspeed = m.abs(dist) / time,\n\t\t\tnewDist = (speed * speed) / (2 * deceleration),\n\t\t\tnewTime = 0, outsideDist = 0;\n\n\t\t// Proportinally reduce speed if we are outside of the boundaries \n\t\tif (dist > 0 && newDist > maxDistUpper) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistUpper = maxDistUpper + outsideDist;\n\t\t\tspeed = speed * maxDistUpper / newDist;\n\t\t\tnewDist = maxDistUpper;\n\t\t} else if (dist < 0 && newDist > maxDistLower) {\n\t\t\toutsideDist = size / (6 / (newDist / speed * deceleration));\n\t\t\tmaxDistLower = maxDistLower + outsideDist;\n\t\t\tspeed = speed * maxDistLower / newDist;\n\t\t\tnewDist = maxDistLower;\n\t\t}\n\n\t\tnewDist = newDist * (dist < 0 ? -1 : 1);\n\t\tnewTime = speed / deceleration;\n\n\t\treturn { dist: newDist, time: mround(newTime) };\n\t},\n\n\t_offset: function (el) {\n\t\tvar left = -el.offsetLeft,\n\t\t\ttop = -el.offsetTop;\n\t\t\t\n\t\twhile (el = el.offsetParent) {\n\t\t\tleft -= el.offsetLeft;\n\t\t\ttop -= el.offsetTop;\n\t\t} \n\n\t\treturn { left: left, top: top };\n\t},\n\n\t_bind: function (type, el, bubble) {\n\t\t(el || this.scroller).addEventListener(type, this, !!bubble);\n\t},\n\n\t_unbind: function (type, el, bubble) {\n\t\t(el || this.scroller).removeEventListener(type, this, !!bubble);\n\t},\n\n\n\t/**\n\t *\n\t * Public methods\n\t *\n\t */\n\tdestroy: function () {\n\t\tvar that = this;\n\n\t\tthat.scroller.style[vendor + 'Transform'] = '';\n\n\t\t// Remove the event listeners\n\t\tthat._unbind(RESIZE_EV, window);\n\t\tthat._unbind(START_EV);\n\t\tthat._unbind(MOVE_EV);\n\t\tthat._unbind(END_EV);\n\t\tthat._unbind(CANCEL_EV);\n\t\tthat._unbind('mouseout', that.wrapper);\n\t\tif (that.options.useTransition) that._unbind('webkitTransitionEnd');\n\t\t\n\t\tif (that.options.onDestroy) that.options.onDestroy.call(that);\n\t},\n\n\trefresh: function () {\n\t\tvar that = this,\n\t\t\toffset;\n\n\t\tthat.wrapperW = that.wrapper.clientWidth;\n\t\tthat.wrapperH = that.wrapper.clientHeight;\n\n\t\tthat.scrollerW = that.scroller.offsetWidth;\n\t\tthat.scrollerH = that.scroller.offsetHeight;\n\t\tthat.maxScrollX = that.wrapperW - that.scrollerW;\n\t\tthat.maxScrollY = that.wrapperH - that.scrollerH;\n\t\tthat.dirX = 0;\n\t\tthat.dirY = 0;\n\n\t\tthat.hScroll = that.options.hScroll && that.maxScrollX < 0;\n\t\tthat.vScroll = that.options.vScroll && (!that.options.bounceLock && !that.hScroll || that.scrollerH > that.wrapperH);\n\n\t\toffset = that._offset(that.wrapper);\n\t\tthat.wrapperOffsetLeft = -offset.left;\n\t\tthat.wrapperOffsetTop = -offset.top;\n\n\n\t\tthat.scroller.style[vendor + 'TransitionDuration'] = '0';\n\n\t\tthat._resetPos(200);\n\t},\n\n\tscrollTo: function (x, y, time, relative) {\n\t\tvar that = this,\n\t\t\tstep = x,\n\t\t\ti, l;\n\n\t\tthat.stop();\n\n\t\tif (!step.length) step = [{ x: x, y: y, time: time, relative: relative }];\n\t\t\n\t\tfor (i=0, l=step.length; i<l; i++) {\n\t\t\tif (step[i].relative) { step[i].x = that.x - step[i].x; step[i].y = that.y - step[i].y; }\n\t\t\tthat.steps.push({ x: step[i].x, y: step[i].y, time: step[i].time || 0 });\n\t\t}\n\n\t\tthat._startAni();\n\t},\n\n\tscrollToElement: function (el, time) {\n\t\tvar that = this, pos;\n\t\tel = el.nodeType ? el : that.scroller.querySelector(el);\n\t\tif (!el) return;\n\n\t\tpos = that._offset(el);\n\t\tpos.left += that.wrapperOffsetLeft;\n\t\tpos.top += that.wrapperOffsetTop;\n\n\t\tpos.left = pos.left > 0 ? 0 : pos.left < that.maxScrollX ? that.maxScrollX : pos.left;\n\t\tpos.top = pos.top > 0 ? 0 : pos.top < that.maxScrollY ? that.maxScrollY : pos.top;\n\t\ttime = time === undefined ? m.max(m.abs(pos.left)*2, m.abs(pos.top)*2) : time;\n\n\t\tthat.scrollTo(pos.left, pos.top, time);\n\t},\n\n\tdisable: function () {\n\t\tthis.stop();\n\t\tthis._resetPos(0);\n\t\tthis.enabled = false;\n\n\t\t// If disabled after touchstart we make sure that there are no left over events\n\t\tthis._unbind(MOVE_EV);\n\t\tthis._unbind(END_EV);\n\t\tthis._unbind(CANCEL_EV);\n\t},\n\t\n\tenable: function () {\n\t\tthis.enabled = true;\n\t},\n\t\n\tstop: function () {\n\t\tcancelFrame(this.aniTime);\n\t\tthis.steps = [];\n\t\tthis.moved = false;\n\t\tthis.animating = false;\n\t}\n};\n\nif (typeof exports !== 'undefined') exports.iScroll = iScroll;\nelse window.iScroll = iScroll;\n\n})();\n"]}